<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giffy Loader</title>
</head>
<body>
<h1>Giffy Pictures</h1>
<h3>Snow Giffy's</h3>
<div id="giffyList">
    <!-- cards in here -->
</div>
<script>
    var pictureData

    async function giffySearch( question ){
        // get the pictures from giffy
        var fetchUrl = "https://api.giphy.com/v1/stickers/search?api_key=hbv83wVH2MkLnOzTEWDbEVXDjyAMnsZ8&q="+question
        console.log( `.. fetching from ${fetchUrl}` )
        pictureData = await fetch( fetchUrl ).then( r=>r.json() )
        console.log( `. fetched picture data: `, pictureData )

        console.log( `.. showing picture data!` )
        //
        var imageCount = pictureData.data.length
        for( var i=0; i<imageCount; i++ ){
            var url = pictureData.data[i].images.preview_gif.url
            var title = pictureData.data[i].title
            console.log( `url: ${url}` )
            document.querySelector('#giffyList').innerHTML += `
            <div class="card" style="width: 18rem;">
                <img src="${url}" class="card-img-top">
                <div class="card-body">
                    <h5 class="card-title">${title}</h5>
                </div>
            </div>
            `
        }
        // asyncronous tools
        // somepoint later outputs setTimeout result...
    }
    giffySearch( 'snow' )

</script>
</body>
</html>


